// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var orientationEvent, roundNumber, supportsOrientationChange;
    $("[rel=tooltip]").tooltip({
      placement: "bottom"
    });
    $(".alert").alert();
    $("select").selectpicker({
      width: '80px',
      size: 'auto'
    });
    supportsOrientationChange = "onorientationchange" in window;
    orientationEvent = (supportsOrientationChange ? "orientationchange" : "resize");
    window.addEventListener(orientationEvent, (function() {
      $('#map-container').width($(window).width());
      return $('#map-container').height($(window).height() - $('#navbar').height() - 1);
    }), false);
    $(".dropdown-menu input, .dropdown-menu label").click(function(e) {
      return e.stopPropagation();
    });
    $(function() {
      return $("#charts-content").masonry({
        itemSelector: ".chart",
        animationOptions: {
          duration: 1000
        }
      });
    });
    $(".navbar a").on("click", function(event) {
      if ($(this).prop("id") !== "btn-login") {
        $(this).each(function() {
          return $("a").parent().removeClass("active");
        });
        $(this).parent().addClass("active");
        if ($(this).prop("id") === "btn-map") {
          $(".dash").hide();
          setTimeout(function() {
            $('#map-container').width($(window).width());
            return $('#map-container').height($(window).height() - $('#navbar').height() - 1);
          }, 1000);
        } else if ($(this).prop("id") === "btn-charts") {
          $(".dash").show();
        }
        return $('.nav-collapse').collapse('hide');
      }
    });
    $(".quick-btn a").on("click", function(event) {
      event.preventDefault();
      $(this).each(function() {
        return $("a").removeClass("active");
      });
      $(this).addClass("active");
      H5.Data.state = $(this).prop("id");
      H5.Charts.updateMap();
      return H5.Charts.reloadCharts();
    });
    String.prototype.toProperCase = function() {
      return this.replace(/\w\S*/g, function(txt) {
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
      });
    };
    roundNumber = function(number, digits) {
      var multiple, rndedNum;
      multiple = Math.pow(10, digits);
      rndedNum = Math.round(number * multiple) / multiple;
      return rndedNum;
    };
    $("#loading_logo").fadeIn(500);
    return setTimeout(function() {
      $(".loading").fadeOut(700);
      $("#navbar").slideDown(300);
      return H5.Charts.reloadCharts();
    }, 2000);
  });

}).call(this);
